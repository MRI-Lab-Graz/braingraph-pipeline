INFO - ✅ Found 257 data files (257 .fz, 0 .fib.gz)
INFO - 📊 Subject sampling mode: different subject per iteration
INFO - 📊 Total subjects available: 257
INFO - 🎲 Subject sampling enabled: different subject per iteration
INFO - 
======================================================================
INFO - 🧠 BAYESIAN OPTIMIZATION FOR TRACTOGRAPHY PARAMETERS
INFO - ======================================================================
INFO - Data directory: /data/local/Poly/derivatives/meta/fz
INFO - Output directory: /tmp/test_production
INFO - Number of iterations: 30
INFO - Parameter space:
INFO -   tract_count              : (50000, 5000000)
INFO -   fa_threshold             : (0.05, 0.3)
INFO -   min_length               : (5, 50)
INFO -   turning_angle            : (30.0, 90.0)
INFO -   step_size                : (0.5, 2.0)
INFO -   track_voxel_ratio        : (1.0, 5.0)
INFO -   connectivity_threshold   : (0.0001, 0.01)
INFO - Atlases: FreeSurferDKT_Cortical, FreeSurferDKT_Subcortical, ATAG_basal_ganglia, BrainSeg, Brainnectome, Brodmann, Campbell, Cerebellum-SUIT, CerebrA, HCP-MMP, HCP842_tractography, HCPex, JulichBrain, Kleist
INFO - ======================================================================

INFO - 📊 Iteration 1: Sampled subject P100_3007.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 1/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 3992888
INFO -   fa_threshold              = 0.09585869746654097
INFO -   min_length                = 40
INFO -   turning_angle             = 65.81100947678922
INFO -   step_size                 = 1.1687491292803869
INFO -   track_voxel_ratio         = 1.3998996632720115
INFO -   connectivity_threshold    = 0.0008288916866885144
INFO - 📁 Using 1 subject(s): P100_3007
INFO - ✅ QA Score: 0.2407
INFO - 🏆 New best QA score: 0.2407
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 2: Sampled subject P040_149.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 2/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 1701858
INFO -   fa_threshold              = 0.08571670448048521
INFO -   min_length                = 34
INFO -   turning_angle             = 33.384694741626014
INFO -   step_size                 = 1.5829981584002373
INFO -   track_voxel_ratio         = 4.7542108360630015
INFO -   connectivity_threshold    = 0.00010035927878780911
INFO - 📁 Using 1 subject(s): P040_149
INFO - ✅ QA Score: 0.2098
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 3: Sampled subject P040_146.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 3/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 4961447
INFO -   fa_threshold              = 0.20437037740692915
INFO -   min_length                = 33
INFO -   turning_angle             = 30.423978313183046
INFO -   step_size                 = 0.5345936375621236
INFO -   track_voxel_ratio         = 3.099098641033557
INFO -   connectivity_threshold    = 0.0006305535040199287
INFO - 📁 Using 1 subject(s): P040_146
INFO - ✅ QA Score: 0.1858
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 4: Sampled subject P019_31.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 4/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 280995
INFO -   fa_threshold              = 0.29343887971036486
INFO -   min_length                = 15
INFO -   turning_angle             = 35.43638607196925
INFO -   step_size                 = 1.4275790139996312
INFO -   track_voxel_ratio         = 2.5298479650686514
INFO -   connectivity_threshold    = 0.009256818992066885
INFO - 📁 Using 1 subject(s): P019_31
INFO - ✅ QA Score: 0.1432
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 5: Sampled subject P019_21.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 5/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 2360476
INFO -   fa_threshold              = 0.2649851016840802
INFO -   min_length                = 36
INFO -   turning_angle             = 57.02995511817259
INFO -   step_size                 = 0.5198974417397998
INFO -   track_voxel_ratio         = 4.768807022739412
INFO -   connectivity_threshold    = 0.0013383707472536775
INFO - 📁 Using 1 subject(s): P019_21
INFO - ✅ QA Score: 0.1506
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 6: Sampled subject P040_141.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 6/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 34
INFO -   turning_angle             = 64.57724408604456
INFO -   step_size                 = 0.5936578449739394
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.004270477313039065
INFO - 📁 Using 1 subject(s): P040_141
INFO - ✅ QA Score: 0.2404
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 7: Sampled subject P100_4056.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 7/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 1431102
INFO -   fa_threshold              = 0.13208469219892066
INFO -   min_length                = 14
INFO -   turning_angle             = 81.46873471327638
INFO -   step_size                 = 1.3644697571947102
INFO -   track_voxel_ratio         = 1.016615933963233
INFO -   connectivity_threshold    = 0.000569154855200918
INFO - 📁 Using 1 subject(s): P100_4056
INFO - ✅ QA Score: 0.2315
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 8: Sampled subject P100_2063.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 8/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.0756151794327242
INFO -   min_length                = 50
INFO -   turning_angle             = 30.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.01
INFO - 📁 Using 1 subject(s): P100_2063
INFO - ✅ QA Score: 0.1655
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 9: Sampled subject P040_104.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 9/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 24
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.6740290484549477
INFO -   track_voxel_ratio         = 3.6560722999358704
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P040_104
INFO - ✅ QA Score: 0.3528
INFO - 🏆 New best QA score: 0.3528
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 10: Sampled subject P065_1101.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 10/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 5
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P065_1101
INFO - ✅ QA Score: 0.4009
INFO - 🏆 New best QA score: 0.4009
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 11: Sampled subject P100_2068.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 11/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.08836054736902828
INFO -   min_length                = 5
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.01
INFO - 📁 Using 1 subject(s): P100_2068
INFO - ✅ QA Score: 0.1942
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 12: Sampled subject P019_02.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 12/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.3
INFO -   min_length                = 50
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P019_02
INFO - ✅ QA Score: 0.1500
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 13: Sampled subject P040_134.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 13/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 4187395
INFO -   fa_threshold              = 0.055684682279335276
INFO -   min_length                = 29
INFO -   turning_angle             = 55.35334645175584
INFO -   step_size                 = 0.664117491516505
INFO -   track_voxel_ratio         = 1.0949183844416455
INFO -   connectivity_threshold    = 0.00011362825483500053
INFO - 📁 Using 1 subject(s): P040_134
INFO - ✅ QA Score: 0.2649
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 14: Sampled subject P019_28.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 14/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 33
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 4.045154462035718
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P019_28
INFO - ✅ QA Score: 0.3733
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 15: Sampled subject qa.study_nr.r3.l30.t_statistics.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 15/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 4196818
INFO -   fa_threshold              = 0.29060777663706655
INFO -   min_length                = 8
INFO -   turning_angle             = 30.69341324893752
INFO -   step_size                 = 1.9854986083926767
INFO -   track_voxel_ratio         = 1.328139264916799
INFO -   connectivity_threshold    = 0.00010047884060412829
INFO - 📁 Using 1 subject(s): qa.study_nr.r3.l30.t_statistics
INFO - ✅ QA Score: 0.0104
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 16: Sampled subject P040_114.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 16/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 1134881
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 5
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 4.90012016218229
INFO -   connectivity_threshold    = 0.0002822766378323111
INFO - 📁 Using 1 subject(s): P040_114
INFO - ✅ QA Score: 0.3294
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 17: Sampled subject P065_4104.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 17/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 2889710
INFO -   fa_threshold              = 0.07307464612423678
INFO -   min_length                = 26
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P065_4104
INFO - ✅ QA Score: 0.3227
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 18: Sampled subject P124_1039.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 18/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 1824930
INFO -   fa_threshold              = 0.21063405353730852
INFO -   min_length                = 28
INFO -   turning_angle             = 89.95884006438894
INFO -   step_size                 = 1.995220918714924
INFO -   track_voxel_ratio         = 4.141586571392891
INFO -   connectivity_threshold    = 0.006735635338338372
INFO - 📁 Using 1 subject(s): P124_1039
INFO - ✅ QA Score: 0.1716
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 19: Sampled subject P019_17.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 19/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 5
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P019_17
INFO - ✅ QA Score: 0.3250
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 20: Sampled subject P124_1021.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 20/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 50
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P124_1021
INFO - ✅ QA Score: 0.2318
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 21: Sampled subject P040_105.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 21/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 13
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P040_105
INFO - ✅ QA Score: 0.3511
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 22: Sampled subject P040_156.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 22/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 4441943
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 5
INFO -   turning_angle             = 30.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.734970966504494
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P040_156
INFO - ✅ QA Score: 0.1793
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 23: Sampled subject P100_4049.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 23/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 17
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P100_4049
INFO - ✅ QA Score: 0.3580
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 24: Sampled subject P124_1017.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 24/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 17
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P124_1017
INFO - ✅ QA Score: 0.3865
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 25: Sampled subject P040_117.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 25/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 15
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P040_117
INFO - ✅ QA Score: 0.3888
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 26: Sampled subject P040_106.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 26/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 50
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P040_106
INFO - ✅ QA Score: 0.3023
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 27: Sampled subject P100_3007.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 27/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 31
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 4.857712725976428
INFO -   connectivity_threshold    = 0.0007812008144178193
INFO - 📁 Using 1 subject(s): P100_3007
INFO - ✅ QA Score: 0.3626
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 28: Sampled subject P065_4115.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 28/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 29
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 5.0
INFO -   connectivity_threshold    = 0.0001
INFO - 📁 Using 1 subject(s): P065_4115
INFO - ✅ QA Score: 0.3164
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 29: Sampled subject P040_125.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 29/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 50
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 0.5
INFO -   track_voxel_ratio         = 3.151779906206918
INFO -   connectivity_threshold    = 0.01
INFO - 📁 Using 1 subject(s): P040_125
INFO - ✅ QA Score: 0.2483
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 📊 Iteration 30: Sampled subject P100_1021.fz
INFO - 
======================================================================
INFO - 🔬 Bayesian Iteration 30/30
INFO - ======================================================================
INFO - Testing parameters on 1 subject(s):
INFO -   tract_count               = 50000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 35
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.00044388292358924083
INFO - 📁 Using 1 subject(s): P100_1021
INFO - ✅ QA Score: 0.3497
INFO - 💾 Progress saved to /tmp/test_production/bayesian_optimization_progress.json
INFO - 
======================================================================
INFO - ✅ BAYESIAN OPTIMIZATION COMPLETE
INFO - ======================================================================
INFO - Best QA Score: 0.4009
INFO - Best parameters:
INFO -   tract_count               = 5000000
INFO -   fa_threshold              = 0.05
INFO -   min_length                = 5
INFO -   turning_angle             = 90.0
INFO -   step_size                 = 2.0
INFO -   track_voxel_ratio         = 1.0
INFO -   connectivity_threshold    = 0.0001
INFO - Total time: 114242.9 seconds (1904.0 minutes)
INFO - Subjects used: 29 (P019_02.fz, P019_17.fz, P019_21.fz, P019_28.fz, P019_31.fz, P040_104.fz, P040_105.fz, P040_106.fz, P040_114.fz, P040_117.fz, P040_125.fz, P040_134.fz, P040_141.fz, P040_146.fz, P040_149.fz, P040_156.fz, P065_1101.fz, P065_4104.fz, P065_4115.fz, P100_1021.fz, P100_2063.fz, P100_2068.fz, P100_3007.fz, P100_4049.fz, P100_4056.fz, P124_1017.fz, P124_1021.fz, P124_1039.fz, qa.study_nr.r3.l30.t_statistics.fz)
INFO - Atlases used: FreeSurferDKT_Cortical, FreeSurferDKT_Subcortical, ATAG_basal_ganglia, BrainSeg, Brainnectome, Brodmann, Campbell, Cerebellum-SUIT, CerebrA, HCP-MMP, HCP842_tractography, HCPex, JulichBrain, Kleist
INFO - 
=====================================================================================
INFO - 🏆 BAYESIAN OPTIMIZATION RESULTS
INFO - =====================================================================================
INFO - 
📊 Summary:
INFO -   Total iterations: 30
INFO -   Best QA Score: 0.4009
INFO -   Total computation time: 114242.9 seconds (1904.0 minutes)
INFO - 
🥇 BEST PARAMETERS (iteration 10):
INFO -   Best Atlas: ATAG_basal_ganglia (QA: 0.8003)
INFO -   tract_count            = 5,000,000
INFO -   fa_threshold           = 0.050000
INFO -   min_length             = 5
INFO -   turning_angle          = 90.00°
INFO -   step_size              = 2.0000
INFO -   track_voxel_ratio      = 1.0000
INFO -   connectivity_threshold = 0.0001000000
INFO - 
📈 ALL ITERATIONS (sorted by QA score):
INFO - ---------------------------------------------------------------------------------------------------------
INFO - Iter | QA Score |                     Best Atlas | Atlas QA | Key Parameters
INFO - ---------------------------------------------------------------------------------------------------------
INFO - 🥇  10 |   0.4009 |             ATAG_basal_ganglia |   0.8003 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -     25 |   0.3888 |             ATAG_basal_ganglia |   0.7788 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -     24 |   0.3865 |             ATAG_basal_ganglia |   0.8366 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -     14 |   0.3733 |      FreeSurferDKT_Subcortical |   0.7570 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     27 |   0.3626 |      FreeSurferDKT_Subcortical |   0.7736 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     23 |   0.3580 |         FreeSurferDKT_Cortical |   0.7406 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -      9 |   0.3528 |             ATAG_basal_ganglia |   0.8209 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -     21 |   0.3511 |             ATAG_basal_ganglia |   0.7620 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -     30 |   0.3497 |      FreeSurferDKT_Subcortical |   0.7963 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     16 |   0.3294 |            HCP842_tractography |   0.7058 | tract=1,134,881 fa=0.050 angle= 90.0°
INFO -     19 |   0.3250 |                       BrainSeg |   0.8132 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     17 |   0.3227 |      FreeSurferDKT_Subcortical |   0.7901 | tract=2,889,710 fa=0.073 angle= 90.0°
INFO -     28 |   0.3164 |      FreeSurferDKT_Subcortical |   0.8052 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     26 |   0.3023 |            HCP842_tractography |   0.6387 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -     13 |   0.2649 |      FreeSurferDKT_Subcortical |   0.5905 | tract=4,187,395 fa=0.056 angle= 55.4°
INFO -     29 |   0.2483 |      FreeSurferDKT_Subcortical |   0.7681 | tract= 50,000 fa=0.050 angle= 90.0°
INFO -      1 |   0.2407 |                Cerebellum-SUIT |   0.7259 | tract=3,992,888 fa=0.096 angle= 65.8°
INFO -      6 |   0.2404 |      FreeSurferDKT_Subcortical |   0.6866 | tract=5,000,000 fa=0.050 angle= 64.6°
INFO -     20 |   0.2318 |      FreeSurferDKT_Subcortical |   0.5574 | tract=5,000,000 fa=0.050 angle= 90.0°
INFO -      7 |   0.2315 |             ATAG_basal_ganglia |   0.5730 | tract=1,431,102 fa=0.132 angle= 81.5°
INFO - ---------------------------------------------------------------------------------------------------------
INFO - 
🚀 NEXT STEP: Apply optimized parameters
INFO - Run the following command to apply the optimized parameters to ALL subjects:
INFO - 
INFO - PYTHONPATH=/data/local/software/braingraph-pipeline python scripts/run_pipeline.py \
INFO -   --data-dir /data/local/Poly/derivatives/meta/fz/ \
INFO -   --output optimized_results \
INFO -   --extraction-config /tmp/test_production/iterations/iteration_0010_config.json \
INFO -   --step all
INFO - 
INFO - 
📊 Full results saved to: /tmp/test_production/bayesian_optimization_results.json
INFO - ======================================================================

INFO - ✅ Optimization completed successfully!
🚀 Starting Bayesian optimization...
   Data: /data/local/Poly/derivatives/meta/fz/
   Output: /tmp/test_production
   Iterations: 30
✅ Bayesian optimization completed!

📊 Results available in: /tmp/test_production

👉 Next: Apply the best parameters with 'opticonn apply'
